# 쇼핑 에이전트 UI 개발 Task Master

## 프로젝트 개요
- **프로젝트명**: 쇼핑 에이전트 웹 UI 개발
- **기간**: 3주 (21일)
- **목표**: CLI 기반 쇼핑 에이전트에 웹 인터페이스 추가
- **참조 문서**: [UI PRD](/Users/sungjinkim/shopping-agent/ui_prd.md)

## 🏗️ 구현 전략 (업데이트됨)

### 기존 시스템 보존 접근법
- **기존 에이전트 시스템 완전 유지**: `agents/`, `ai/`, `core/`, `tools/`, `workflow/`, `main.py` 등 모든 기존 코드 변경 없음
- **`api/` 폴더 추가**: FastAPI 서버로 기존 에이전트를 웹 API로 노출
- **`ui/` 폴더에서 UI 개발**: 독립적인 React 애플리케이션

### 장점
- ✅ 기존 CLI 시스템 영향 없음
- ✅ 점진적 개발 가능
- ✅ 기존 코드 재사용
- ✅ 향후 마이크로서비스 전환 용이

## 전체 일정 및 마일스톤

### 📅 Phase 1: 기본 구조 (1주차 - 7일)
**목표**: 프로젝트 기반 구조 및 기본 API 구축

### 📅 Phase 2: 핵심 기능 (2주차 - 7일)
**목표**: 쇼핑 요청 처리 및 실시간 모니터링 구현

### 📅 Phase 3: 부가 기능 (3주차 전반 - 3.5일)
**목표**: 히스토리 관리, 설정, 모니터링 기능 구현

### 📅 Phase 4: 테스트 및 배포 (3주차 후반 - 3.5일)
**목표**: 테스트, 최적화, 배포 준비

---

## 📋 Task 상세 계획

### Phase 1: 기본 구조 (Day 1-7)

#### 🔧 백엔드 기본 구조
- [x] **T1.1** FastAPI 프로젝트 초기화 및 설정
  - **우선순위**: 🔴 Critical
  - **예상 시간**: 4시간
  - **담당자**: Backend Developer
  - **의존성**: 없음
  - **완료 기준**: FastAPI 서버 실행 가능, 기본 라우팅 설정
  - **✅ 완료일**: 2025-06-14
  - **완료 내용**: FastAPI 서버 구축, 8001 포트에서 실행, 기본 라우팅 설정 완료

- [x] **T1.2** API 서버 구조 및 패키지 설정
  - **우선순위**: 🔴 Critical
  - **예상 시간**: 2시간
  - **담당자**: Backend Developer
  - **의존성**: T1.1
  - **완료 기준**: `api/` 폴더 구조, requirements.txt, 환경 설정 완료 (기존 에이전트 시스템 유지)
  - **✅ 완료일**: 2025-06-14
  - **완료 내용**: api/ 폴더 구조 생성, 라우터 분리, 절대 경로 임포트 설정

- [x] **T1.3** SQLite 데이터베이스 설계 및 ORM 설정
  - **우선순위**: 🔴 Critical
  - **예상 시간**: 6시간
  - **담당자**: Backend Developer
  - **의존성**: T1.2
  - **완료 기준**: 테이블 생성, SQLAlchemy 모델 정의, 마이그레이션
  - **✅ 완료일**: 2025-06-14
  - **완료 내용**: 데이터베이스 모델 정의, 요청 모델 클래스 추가

- [x] **T1.4** 기본 API 엔드포인트 구현
  - **우선순위**: 🟡 High
  - **예상 시간**: 4시간
  - **담당자**: Backend Developer
  - **의존성**: T1.3
  - **완료 기준**: Health check, 기본 CRUD API 동작
  - **✅ 완료일**: 2025-06-14
  - **완료 내용**: 시스템 상태, 히스토리, 요청 처리 API 엔드포인트 구현

#### 🎨 프론트엔드 기본 구조
- [x] **T1.5** React + TypeScript 프로젝트 초기화
  - **우선순위**: 🔴 Critical
  - **예상 시간**: 3시간
  - **담당자**: Frontend Developer
  - **의존성**: 없음
  - **완료 기준**: React 앱 실행, TypeScript 설정, 기본 라이브러리 설치
  - **✅ 완료일**: 2025-01-현재
  - **완료 내용**: React 18 + TypeScript 프로젝트 생성, Material-UI 설치, 기본 설정 완료

- [x] **T1.6** 기본 컴포넌트 구조 및 라우팅 설정
  - **우선순위**: 🟡 High
  - **예상 시간**: 4시간
  - **담당자**: Frontend Developer
  - **의존성**: T1.5
  - **완료 기준**: 페이지 라우팅, 기본 레이아웃 컴포넌트
  - **✅ 완료일**: 2025-01-현재
  - **완료 내용**: React Router v6 설정, Layout 컴포넌트 구현, 페이지 라우팅 완료

- [x] **T1.7** 메인 페이지 레이아웃 구현
  - **우선순위**: 🟡 High
  - **예상 시간**: 6시간
  - **담당자**: Frontend Developer
  - **의존성**: T1.6
  - **완료 기준**: Header, 입력 폼, 기본 UI 구조
  - **✅ 완료일**: 2025-01-현재
  - **완료 내용**: HomePage, HistoryPage, SettingsPage, MonitoringPage 기본 구조 완료

#### 🔗 통합 및 설정
- [x] **T1.8** CORS 설정 및 API 연동 테스트
  - **우선순위**: 🟡 High
  - **예상 시간**: 2시간
  - **담당자**: Full Stack
  - **의존성**: T1.4, T1.7
  - **완료 기준**: 프론트엔드에서 백엔드 API 호출 성공
  - **✅ 완료일**: 2025-01-현재
  - **완료 내용**: CORS 미들웨어 설정, React 개발 서버와 API 연동 테스트 완료

**Phase 1 총 예상 시간**: 31시간 (약 4일)

---

### Phase 2: 핵심 기능 (Day 8-14)

#### 🛒 쇼핑 요청 처리
- [ ] **T2.1** 기존 CLI 에이전트와 FastAPI 통합
  - **우선순위**: 🔴 Critical
  - **예상 시간**: 8시간
  - **담당자**: Backend Developer
  - **의존성**: T1.4
  - **완료 기준**: 기존 `ShoppingAgentApp` 클래스를 import하여 API로 호출 가능

- [ ] **T2.2** 쇼핑 요청 API 엔드포인트 구현
  - **우선순위**: 🔴 Critical
  - **예상 시간**: 6시간
  - **담당자**: Backend Developer
  - **의존성**: T2.1
  - **완료 기준**: POST /api/v1/requests 동작

- [ ] **T2.3** 요청 상태 추적 시스템 구현
  - **우선순위**: 🔴 Critical
  - **예상 시간**: 6시간
  - **담당자**: Backend Developer
  - **의존성**: T2.2
  - **완료 기준**: 진행률, 상태 업데이트 기능

#### 📡 실시간 모니터링
- [ ] **T2.4** WebSocket 연결 및 실시간 상태 스트리밍
  - **우선순위**: 🟡 High
  - **예상 시간**: 8시간
  - **담당자**: Backend Developer
  - **의존성**: T2.3
  - **완료 기준**: 실시간 진행 상황 전송

- [ ] **T2.5** 프론트엔드 요청 폼 구현
  - **우선순위**: 🔴 Critical
  - **예상 시간**: 4시간
  - **담당자**: Frontend Developer
  - **의존성**: T1.7
  - **완료 기준**: 사용자 입력, 요청 전송 기능

- [ ] **T2.6** 실시간 진행 상황 표시 컴포넌트
  - **우선순위**: 🟡 High
  - **예상 시간**: 6시간
  - **담당자**: Frontend Developer
  - **의존성**: T2.4, T2.5
  - **완료 기준**: ProgressBar, 상태 표시 UI

#### 📊 결과 시각화
- [ ] **T2.7** 쇼핑 결과 표시 API 구현
  - **우선순위**: 🟡 High
  - **예상 시간**: 4시간
  - **담당자**: Backend Developer
  - **의존성**: T2.2
  - **완료 기준**: 구조화된 결과 데이터 반환

- [ ] **T2.8** 결과 시각화 컴포넌트 구현
  - **우선순위**: 🟡 High
  - **예상 시간**: 8시간
  - **담당자**: Frontend Developer
  - **의존성**: T2.7
  - **완료 기준**: 상품 카드, 가격 차트, 추천 리스트

#### 🚨 에러 처리
- [ ] **T2.9** 에러 처리 및 로딩 상태 관리
  - **우선순위**: 🟡 High
  - **예상 시간**: 4시간
  - **담당자**: Full Stack
  - **의존성**: T2.6, T2.8
  - **완료 기준**: 에러 메시지, 로딩 스피너, 재시도 기능

**Phase 2 총 예상 시간**: 54시간 (약 7일)

---

### Phase 3: 부가 기능 (Day 15-18)

#### 📚 히스토리 관리
- [ ] **T3.1** 대화 히스토리 저장 기능 구현
  - **우선순위**: 🟡 High
  - **예상 시간**: 6시간
  - **담당자**: Backend Developer
  - **의존성**: T1.3, T2.2
  - **완료 기준**: 질문/답변 DB 저장, 검색 API

- [ ] **T3.2** 히스토리 페이지 및 검색 기능
  - **우선순위**: 🟢 Medium
  - **예상 시간**: 6시간
  - **담당자**: Frontend Developer
  - **의존성**: T3.1
  - **완료 기준**: 히스토리 목록, 키워드 검색, 필터링

#### ⚙️ 설정 관리
- [ ] **T3.3** 시스템 설정 API 구현
  - **우선순위**: 🟢 Medium
  - **예상 시간**: 4시간
  - **담당자**: Backend Developer
  - **의존성**: T1.4
  - **완료 기준**: AI 모델, 로깅 레벨 설정 API

- [ ] **T3.4** 설정 페이지 구현
  - **우선순위**: 🟢 Medium
  - **예상 시간**: 4시간
  - **담당자**: Frontend Developer
  - **의존성**: T3.3
  - **완료 기준**: 설정 변경 UI, 저장 기능

#### 📈 시스템 모니터링
- [ ] **T3.5** 시스템 상태 모니터링 API
  - **우선순위**: 🟢 Medium
  - **예상 시간**: 4시간
  - **담당자**: Backend Developer
  - **의존성**: T1.4
  - **완료 기준**: 성능 메트릭, 시스템 상태 API

- [ ] **T3.6** 모니터링 대시보드 구현
  - **우선순위**: 🟢 Medium
  - **예상 시간**: 6시간
  - **담당자**: Frontend Developer
  - **의존성**: T3.5
  - **완료 기준**: 상태 대시보드, 성능 차트

**Phase 3 총 예상 시간**: 30시간 (약 4일)

---

### Phase 4: 테스트 및 배포 (Day 19-21)

#### 🧪 테스트
- [ ] **T4.1** 백엔드 단위 테스트 작성
  - **우선순위**: 🟡 High
  - **예상 시간**: 6시간
  - **담당자**: Backend Developer
  - **의존성**: Phase 2, 3 완료
  - **완료 기준**: API 엔드포인트 테스트 커버리지 80%+

- [ ] **T4.2** 프론트엔드 컴포넌트 테스트
  - **우선순위**: 🟡 High
  - **예상 시간**: 6시간
  - **담당자**: Frontend Developer
  - **의존성**: Phase 2, 3 완료
  - **완료 기준**: 주요 컴포넌트 테스트 작성

- [ ] **T4.3** E2E 테스트 시나리오 작성 및 실행
  - **우선순위**: 🟢 Medium
  - **예상 시간**: 4시간
  - **담당자**: Full Stack
  - **의존성**: T4.1, T4.2
  - **완료 기준**: 주요 사용자 플로우 테스트

#### 🚀 배포 준비
- [ ] **T4.4** Docker 컨테이너화
  - **우선순위**: 🟡 High
  - **예상 시간**: 4시간
  - **담당자**: DevOps
  - **의존성**: Phase 2, 3 완료
  - **완료 기준**: Docker Compose 설정, 컨테이너 빌드

- [ ] **T4.5** 프로덕션 환경 설정
  - **우선순위**: 🟢 Medium
  - **예상 시간**: 3시간
  - **담당자**: DevOps
  - **의존성**: T4.4
  - **완료 기준**: 환경 변수, 보안 설정

#### 📖 문서화
- [ ] **T4.6** API 문서화 (OpenAPI/Swagger)
  - **우선순위**: 🟢 Medium
  - **예상 시간**: 3시간
  - **담당자**: Backend Developer
  - **의존성**: Phase 2, 3 완료
  - **완료 기준**: 자동 생성된 API 문서

- [ ] **T4.7** 사용자 가이드 및 README 작성
  - **우선순위**: 🟢 Medium
  - **예상 시간**: 2시간
  - **담당자**: Full Stack
  - **의존성**: T4.4
  - **완료 기준**: 설치/실행 가이드, 기능 설명

**Phase 4 총 예상 시간**: 28시간 (약 3.5일)

---

## 📊 진행 상황 추적

### 전체 진행률

- **전체 태스크**: 28개
- **완료된 태스크**: 8개
- **진행률**: 28.6%

### Phase별 진행률
| Phase | 태스크 수 | 완료 | 진행률 | 상태 |
|-------|----------|------|--------|------|
| Phase 1 | 8 | 8 | 100% | ✅ 완료 |
| Phase 2 | 9 | 0 | 0% | 🔄 대기 |
| Phase 3 | 6 | 0 | 0% | 🔄 대기 |
| Phase 4 | 7 | 0 | 0% | 🔄 대기 |

### 최근 완료 작업 (2025-01-현재)
- ✅ **T1.1**: FastAPI 프로젝트 초기화 및 설정
- ✅ **T1.2**: API 서버 구조 및 패키지 설정
- ✅ **T1.3**: SQLite 데이터베이스 설계 및 ORM 설정
- ✅ **T1.4**: 기본 API 엔드포인트 구현
- ✅ **T1.5**: React + TypeScript 프로젝트 초기화
- ✅ **T1.6**: 기본 컴포넌트 구조 및 라우팅 설정
- ✅ **T1.7**: 메인 페이지 레이아웃 구현
- ✅ **T1.8**: CORS 설정 및 API 연동 테스트

### 해결된 기술적 이슈
- 🔧 포트 충돌 해결 (8001 포트 사용)
- 🔧 임포트 경로 오류 수정 (절대 경로 사용)
- 🔧 비동기 호출 오류 수정 (동기 함수 호출)
- 🔧 변수 정의 오류 수정 (date_from 변수)
- 🔧 누락된 클래스 추가 (SystemConfigRequest)
- 🔧 워크플로우 엔진 수정 (agent_id → agent_type, config → parameters)
- 🔧 워크플로우 상태 관리 (DRAFT → ACTIVE 상태 설정)

### 다음 우선순위 태스크 (Phase 2 시작)
1. **T2.1**: 기존 CLI 에이전트와 FastAPI 통합
2. **T2.2**: 쇼핑 요청 API 엔드포인트 구현
3. **T2.3**: 요청 상태 추적 시스템 구현
4. **T2.4**: WebSocket 연결 및 실시간 상태 스트리밍

### 우선순위별 태스크 분포
- 🔴 Critical: 8개
- 🟡 High: 12개
- 🟢 Medium: 8개

---

## 🚨 리스크 관리

### 주요 리스크
1. **기존 CLI 코드 통합 복잡성**
   - **영향도**: High
   - **확률**: Medium
   - **대응책**: 초기에 통합 테스트 진행, 필요시 래퍼 클래스 구현

2. **WebSocket 실시간 통신 안정성**
   - **영향도**: Medium
   - **확률**: Medium
   - **대응책**: 폴백 메커니즘 구현, 재연결 로직 추가

3. **데이터베이스 성능 이슈**
   - **영향도**: Medium
   - **확률**: Low
   - **대응책**: 인덱스 최적화, 쿼리 성능 모니터링

### 의존성 관리
- **Critical Path**: T1.1 → T1.2 → T1.3 → T2.1 → T2.2 → T2.3
- **병렬 작업 가능**: 프론트엔드와 백엔드 개발
- **블로킹 요소**: CLI 통합 (T2.1)

---

## 📝 일일 체크리스트

### 매일 확인사항
- [ ] 당일 계획된 태스크 진행 상황
- [ ] 블로킹 이슈 확인 및 해결
- [ ] 다음날 작업 계획 수립
- [ ] 코드 리뷰 및 품질 체크
- [ ] 테스트 실행 및 결과 확인

### 주간 리뷰
- [ ] Phase 목표 달성도 평가
- [ ] 일정 지연 요인 분석
- [ ] 다음 주 계획 조정
- [ ] 팀 피드백 수집

---

## 🎯 성공 기준

### Phase 1 성공 기준
- FastAPI 서버 정상 실행
- React 앱 정상 실행
- 기본 API 통신 성공
- 데이터베이스 연결 및 기본 CRUD 동작

### Phase 2 성공 기준
- 쇼핑 요청 처리 완료
- 실시간 진행 상황 표시
- 결과 시각화 기능 동작
- 에러 처리 및 사용자 피드백

### Phase 3 성공 기준
- 히스토리 저장 및 검색 기능
- 시스템 설정 변경 가능
- 모니터링 대시보드 표시

### Phase 4 성공 기준
- 테스트 커버리지 80% 이상
- Docker 컨테이너 정상 실행
- 문서화 완료
- 프로덕션 배포 준비 완료

---

## 📞 연락처 및 리소스

### 팀 구성
- **Backend Developer**: FastAPI, SQLAlchemy, WebSocket
- **Frontend Developer**: React, TypeScript, UI/UX
- **DevOps**: Docker, 배포, 모니터링
- **Full Stack**: 통합, 테스트, 문서화

### 참고 자료
- [UI PRD 문서](/Users/sungjinkim/shopping-agent/ui_prd.md)
- [기존 CLI 코드베이스](/Users/sungjinkim/shopping-agent/)
- [FastAPI 공식 문서](https://fastapi.tiangolo.com/)
- [React 공식 문서](https://react.dev/)

---

**마지막 업데이트**: 2025-01-현재 (Phase 1 완료)
**다음 리뷰 예정**: Phase 2 시작 시
**현재 상태**: Phase 1 완료, Phase 2 준비
**API 서버**: http://127.0.0.1:8001 (구현 완료, 테스트 필요)
**API 문서**: http://127.0.0.1:8001/api/docs
**UI 개발 서버**: React 앱 구조 완료, 기능 구현 필요
**CLI 시스템**: 정상 작동 (워크플로우 엔진 수정 완료)